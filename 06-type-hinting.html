
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Type Hinting in Python &#8212; MolSSI Best Practices  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=bd9e20870c6007c4c509" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=bd9e20870c6007c4c509" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=bd9e20870c6007c4c509" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=bd9e20870c6007c4c509" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=f098cca5" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=bd9e20870c6007c4c509" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=bd9e20870c6007c4c509" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=bd9e20870c6007c4c509"></script>

    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-FHKVGE8HKZ"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-FHKVGE8HKZ');
            </script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-FHKVGE8HKZ');
            </script>
    <script>DOCUMENTATION_OPTIONS.pagename = '06-type-hinting';</script>
    <link rel="icon" href="_static/molssi_square.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Package Documentation" href="10-documentation.html" />
    <link rel="prev" title="Deciding Package Structure" href="05-package-structure.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <header>
  
    <div class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/molssi_main_logo.png" class="logo__image only-light" alt=""/>
    <script>document.write(`<img src="_static/molssi_main_logo_inverted_white.png" class="logo__image only-dark" alt=""/>`);</script>
  
  
    <p class="title logo__title">MolSSI Best Practices</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="index.html">
                        Overview
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="00-setup.html">
                        Set-Up
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="00-git-and-github.html">
                        git and GitHub
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="00-code-organization-documentation.html">
                        Code Style and Documentation
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="00-testing-continuous-integration.html">
                        Testing, Continuous Integration, and Distribution
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link dropdown-item nav-external" href="https://molssi.org">
                    MolSSI
                  </a>
                </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/MolSSI-Education/python-package-best-practices" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/MolSSI_NSF" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </div>
  
  </header>

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="index.html">
                        Overview
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="00-setup.html">
                        Set-Up
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="00-git-and-github.html">
                        git and GitHub
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="00-code-organization-documentation.html">
                        Code Style and Documentation
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links-2">
                    More
                </button>
                <ul id="pst-nav-more-links-2" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="00-testing-continuous-integration.html">
                        Testing, Continuous Integration, and Distribution
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link dropdown-item nav-external" href="https://molssi.org">
                    MolSSI
                  </a>
                </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/MolSSI-Education/python-package-best-practices" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/MolSSI_NSF" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="00-code-organization-documentation.html" class="nav-link">Code Style and Documentation</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Type...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="type-hinting-in-python">
<h1>Type Hinting in Python<a class="headerlink" href="#type-hinting-in-python" title="Link to this heading">#</a></h1>
<div class="overview admonition">
<p class="admonition-title">Overview</p>
<p>Questions:</p>
<ul class="simple">
<li><p>What is type hinting?</p></li>
<li><p>What does type hinting do for my software?</p></li>
</ul>
<p>Objectives:</p>
<ul class="simple">
<li><p>Learn about type hinting in Python.</p></li>
<li><p>Learn the syntax to utilize type hinting in Python.</p></li>
</ul>
</div>
<div class="tip admonition">
<p class="admonition-title">Follow Along with This Lesson</p>
<p>To follow along with this lesson, you can complete the previous lessons,
or you can download a pre-made workshop repository that is at the starting
point.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/MolSSI-Education/molecool/archive/refs/tags/python-type-hinting-start.zip">Download the pre-made workshop repository as a zip file</a></p></li>
</ul>
<p>Alternatively, download the repository using the command line:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" data-sync-id="tabcode-shell" for="sd-tab-item-0">
SHELL</label><div class="sd-tab-content docutils">
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/MolSSI-Education/molecool.git
git<span class="w"> </span>checkout<span class="w"> </span>python-type-hinting-start
</pre></div>
</div>
</div>
</div>
</div>
<p>Python does not inherently require or enforce the <em>types</em> of variables in code.
Python instead works under a principle called <code class="docutils literal notranslate"><span class="pre">Duck</span> <span class="pre">Typing</span></code>.
Duck Typing is derived from the phrase, “If it looks like a duck, swims like a duck, and quacks like a duck, then it probably is a duck.”
Similarily, if the value assigned to a variable can be used when an integer is called for, the code largely is unconcerned if the variable is an integer or another type.</p>
<p>Though Duck Typing allows for flexibility in the use of variables, and similarily functions which take and return values of arbitrary type, a number of issues can arise.</p>
<p>Consider the <code class="docutils literal notranslate"><span class="pre">calculate_distance</span></code> function from <code class="docutils literal notranslate"><span class="pre">measure.py</span></code>:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-1" name="sd-tab-set-1" type="radio">
</input><label class="sd-tab-label" data-sync-id="tabcode-measure.py" for="sd-tab-item-1">
MEASURE.PY</label><div class="sd-tab-content docutils">
<div class="highlight-measure.py notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">calculate_distance</span><span class="p">(</span><span class="n">rA</span><span class="p">,</span> <span class="n">rB</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate the distance between two points.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    rA, rB : np.ndarray</span>
<span class="sd">        The coordinates of each point.</span>

<span class="sd">    Returns   </span>
<span class="sd">    -------</span>
<span class="sd">    distance : float</span>
<span class="sd">        The distance between the two points.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; r1 = np.array([0, 0, 0])</span>
<span class="sd">    &gt;&gt;&gt; r2 = np.array([0, 0.1, 0])</span>
<span class="sd">    &gt;&gt;&gt; calculate_distance(r1, r2)</span>
<span class="sd">    0.1</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">dist_vec</span> <span class="o">=</span> <span class="n">rA</span> <span class="o">-</span> <span class="n">rB</span>
    <span class="n">distance</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">dist_vec</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">distance</span>
</pre></div>
</div>
</div>
</div>
<p>What are the types of the inputs for this function?
The docstring currently specifies that the parameters <code class="docutils literal notranslate"><span class="pre">rA</span></code> and <code class="docutils literal notranslate"><span class="pre">rB</span></code> are both <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code>.
The code does not explicitly type the variables, however there is implicit typing, which is where duck typing comes into play.
Consider the operations that are applied to the variables <code class="docutils literal notranslate"><span class="pre">rA</span></code> and <code class="docutils literal notranslate"><span class="pre">rB</span></code>.
First, <code class="docutils literal notranslate"><span class="pre">rB</span></code> is subtracted from <code class="docutils literal notranslate"><span class="pre">rA</span></code>.
Any types that do not support the <code class="docutils literal notranslate"><span class="pre">-</span></code> operation will cause an error.
As an example, try running the function with two lists.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-2" name="sd-tab-set-2" type="radio">
</input><label class="sd-tab-label" data-sync-id="tabcode-python" for="sd-tab-item-2">
PYTHON</label><div class="sd-tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calculate_distance</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Python will throw an exception.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-3" name="sd-tab-set-3" type="radio">
</input><label class="sd-tab-label" data-sync-id="tabcode-output" for="sd-tab-item-3">
OUTPUT</label><div class="sd-tab-content docutils">
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">TypeError: unsupported operand type(s) for -: &#39;list&#39; and &#39;list&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>This <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> seems like an appropriate exception, but it would be nice if we could do more to anticipate this error and catch it before run time.</p>
<p>If the function is provided with a type that is usable, it will run successfully, even if it is being used in a way we did not anticipate.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">calculate_distance</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Though the function is designed to work on two <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> variables,
Python’s Duck Typing will allow the code to <em>try</em> to execute with arguments of any type.
Since (as the author) we <em>know</em> that the code will not behave as expected if the user provides inappropriate arguments,
we should do more to help make sure the code is used and behaves as expected.</p>
<section id="type-hinting">
<h2>Type Hinting<a class="headerlink" href="#type-hinting" title="Link to this heading">#</a></h2>
<p>Type hinting a function, and in fact any variable, can improve how easy it is to understand the needs and behaviors of a function.
It is important to note that type hints will not be enforced by Python.
The benefits of type hinting are to support error checking at development time to help avoid errors at run time.
Python makes it easy to specify a type hint for any variable.
We can specify a type with or without providing a default value.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-4" name="sd-tab-set-4" type="radio">
</input><label class="sd-tab-label" data-sync-id="tabcode-python" for="sd-tab-item-4">
PYTHON</label><div class="sd-tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_integer</span><span class="p">:</span> <span class="nb">int</span>

<span class="n">my_float</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.3</span>

<span class="n">list_of_ints</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Type hints can include any type available where the code is written, including</p>
<ul class="simple">
<li><p>Simple types available in all Python code: int, float, str, bool, list</p></li>
<li><p>User defined types</p></li>
<li><p>Imported types</p></li>
</ul>
<p>Note that (since Python 3.9) the built-in container types support subscripting syntax.
Above, we want to specify that <code class="docutils literal notranslate"><span class="pre">list_of_ints</span></code> is not a
<a class="reference external" href="https://docs.python.org/3/library/typing.html#generics">Generic</a> <code class="docutils literal notranslate"><span class="pre">list</span></code>,
but specifically a <code class="docutils literal notranslate"><span class="pre">list</span></code> with <code class="docutils literal notranslate"><span class="pre">int</span></code> elements.</p>
<p>This syntax is only relevant to static type checking.
At run time, <code class="docutils literal notranslate"><span class="pre">list[int]</span></code> is identically the same type as <code class="docutils literal notranslate"><span class="pre">list</span></code>.</p>
<section id="function-type-hinting">
<h3>Function Type Hinting<a class="headerlink" href="#function-type-hinting" title="Link to this heading">#</a></h3>
<p>The same syntax can be used to specify function inputs.
We can add type hints to a function to specify what types the function works on.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-5" name="sd-tab-set-5" type="radio">
</input><label class="sd-tab-label" data-sync-id="tabcode-python" for="sd-tab-item-5">
PYTHON</label><div class="sd-tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">var1</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">var2</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
</div>
</div>
<p>Each variable can be assigned its own type.</p>
<p><code class="docutils literal notranslate"><span class="pre">my_function</span></code> expects two variables, <code class="docutils literal notranslate"><span class="pre">var1</span></code> and <code class="docutils literal notranslate"><span class="pre">var2</span></code>, which should be an <code class="docutils literal notranslate"><span class="pre">int</span></code> and a <code class="docutils literal notranslate"><span class="pre">float</span></code> respectively.</p>
<p>The syntax for type hinting a function output is a bit different.
We follow the function declaration with an <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> and then the type before the <code class="docutils literal notranslate"><span class="pre">:</span></code>.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-6" name="sd-tab-set-6" type="radio">
</input><label class="sd-tab-label" data-sync-id="tabcode-python" for="sd-tab-item-6">
PYTHON</label><div class="sd-tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">var1</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">var2</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
</div>
</div>
<p>Lets apply type hinting to the <code class="docutils literal notranslate"><span class="pre">calculate_distance</span></code> function.</p>
</section>
</section>
<section id="exercise-adding-type-annotations-to-calculate-distance">
<h2>Exercise - Adding type annotations to <code class="docutils literal notranslate"><span class="pre">calculate_distance</span></code><a class="headerlink" href="#exercise-adding-type-annotations-to-calculate-distance" title="Link to this heading">#</a></h2>
<div class="exercise admonition">
<p class="admonition-title">Exercise</p>
<p>Add type hints to the <code class="docutils literal notranslate"><span class="pre">calculate_distance</span></code> function.
Hint: our docstring specifies what types we should be using for the parameters and the output of the function.</p>
<div class="solution dropdown admonition">
<p class="admonition-title">Solution</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-7" name="sd-tab-set-7" type="radio">
</input><label class="sd-tab-label" data-sync-id="tabcode-python" for="sd-tab-item-7">
PYTHON</label><div class="sd-tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">calculate_distance</span><span class="p">(</span><span class="n">rA</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">rB</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate the distance between two points.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    rA, rB : np.ndarray</span>
<span class="sd">        The coordinates of each point.</span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    distance : float</span>
<span class="sd">        The distance between the two points.</span>
<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; r1 = np.array([0, 0, 0])</span>
<span class="sd">    &gt;&gt;&gt; r2 = np.array([0, 0.1, 0])</span>
<span class="sd">    &gt;&gt;&gt; calculate_distance(r1, r2)</span>
<span class="sd">    0.1</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dist_vec</span> <span class="o">=</span> <span class="n">rA</span> <span class="o">-</span> <span class="n">rB</span>
    <span class="n">distance</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">dist_vec</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">distance</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="static-type-checking">
<h2>Static Type Checking<a class="headerlink" href="#static-type-checking" title="Link to this heading">#</a></h2>
<p>After adding the type hint annotations, you may already notice that your IDE
warns you if you try to write <code class="docutils literal notranslate"><span class="pre">calculate_distance([0,</span> <span class="pre">0,</span> <span class="pre">0],</span> <span class="pre">[0,</span> <span class="pre">0.1,</span> <span class="pre">0])</span></code>
(with lists instead of numpy arrays) before you even try to run the command.
If you are using Visual Studio Code and you do not have type hinting warnings,
see the “Type Checking in VS Code” section below.</p>
<p>You and your users can avoid a lot of bugs during development by enabling static
type checking in your editor or with a standalone tool.</p>
<ul class="simple">
<li><p>Static type checking (mypy, pyright)</p></li>
<li><p>Type checking through ide (pylance, atom)</p></li>
</ul>
</section>
<section id="type-checking-in-vs-code">
<h2>Type Checking in VS Code<a class="headerlink" href="#type-checking-in-vs-code" title="Link to this heading">#</a></h2>
<p>Enabling type checking through your IDE is a simple step to benefit from type hinting in python.
Pylance is an optional dependency of the Python extension for VS Code, which means it is likely already installed and just needs to be activated.</p>
<p>To activate Pylance, click the gear icon in the bottom left corner of VS Code and then select the “Settings” option.
In the search box at the top, type: <code class="docutils literal notranslate"><span class="pre">type</span> <span class="pre">checking</span> <span class="pre">mode</span></code>.
You should see an option labeled <code class="docutils literal notranslate"><span class="pre">Python</span> <span class="pre">&gt;</span> <span class="pre">Analysis:</span> <span class="pre">Type</span> <span class="pre">Checking</span> <span class="pre">Mode</span></code> with a dropdown box underneath.
Click the dropdown box and select <code class="docutils literal notranslate"><span class="pre">basic</span></code>.
VS Code should now perform static type checking on your code.
Try and pass a set of integers into the function and you should now see a red underline under each of the integers informing you that the types are incompatible.</p>
</section>
<section id="more">
<h2>More<a class="headerlink" href="#more" title="Link to this heading">#</a></h2>
<p>For more complex or flexible typing, note that the abstract base classes in
<a class="reference external" href="https://docs.python.org/3/library/collections.abc.html">collections.abc</a> can be used as <code class="docutils literal notranslate"><span class="pre">Generic</span></code> types.
The <a class="reference external" href="https://docs.python.org/3/library/typing.html">typing</a> library includes a number of other useful types.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">typing.Union</span></code> specifies a set of different types that can be assigned to a variable. <code class="docutils literal notranslate"><span class="pre">Union[int,</span> <span class="pre">float]</span></code> indicates that either an <code class="docutils literal notranslate"><span class="pre">int</span></code> or a <code class="docutils literal notranslate"><span class="pre">float</span></code> is acceptable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">typing.SupportsFloat</span></code> matches any value that is convertible to <code class="docutils literal notranslate"><span class="pre">float</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">collections.abc.Iterable</span></code> matches any object that can be iterated over.
It is a Generic class. The return value of a function annotated <code class="docutils literal notranslate"><span class="pre">-&gt;</span> <span class="pre">list[int]</span></code>
can be used in a function argument annotated <code class="docutils literal notranslate"><span class="pre">arg:</span> <span class="pre">Iterable[SupportsFloat]</span></code></p></li>
</ul>
<p>More information on Python’s typing package can be found in the <a class="reference external" href="https://docs.python.org/3/library/typing.html">Python documentation</a>.</p>
<div class="tip admonition">
<p class="admonition-title">Final Repository State</p>
<p>You can see the final state of the repository after this section <a class="reference external" href="https://github.com/MolSSI-Education/molecool/tree/cc3e3267215f8e773caa42d4dfc3b4d64646568e">here</a>.</p>
<p>You can also download a zip of the repository <a class="reference external" href="https://github.com/MolSSI-Education/molecool/archive/refs/tags/python-type-hinting-end.zip">here</a>.</p>
</div>
</section>
<section id="key-points">
<h2>Key Points<a class="headerlink" href="#key-points" title="Link to this heading">#</a></h2>
<div class="key admonition">
<p class="admonition-title">Key Points</p>
<ul class="simple">
<li><p>Type hinting improves the readability of your code by annotating the data types of variables.</p></li>
<li><p>Type hinting is used by IDEs to help discover problems before runtime.</p></li>
</ul>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="05-package-structure.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Deciding Package Structure</p>
      </div>
    </a>
    <a class="right-next"
       href="10-documentation.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Package Documentation</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#type-hinting">Type Hinting</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#function-type-hinting">Function Type Hinting</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-adding-type-annotations-to-calculate-distance">Exercise - Adding type annotations to <code class="docutils literal notranslate"><span class="pre">calculate_distance</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#static-type-checking">Static Type Checking</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#type-checking-in-vs-code">Type Checking in VS Code</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more">More</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-points">Key Points</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="_sources/06-type-hinting.md.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=bd9e20870c6007c4c509"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=bd9e20870c6007c4c509"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  



  
  
  
  
  
  
  


<div class="row h-10">
    <div class="col-2">
        <a href="https://molssi.org/" target="_blank" title="Go to MolSSI in a new tab">
            <img src="_static/molssi_main_logo.png" class="logo__image only-light footer_logo" alt="Logo image">
            <img src="_static/molssi_main_logo_inverted_white.png" class="logo__image only-dark footer_logo" alt="Logo image">
        </a>
    </div>
    <div class="col-8">
        <p> &copy; Copyright 2019-2023 <a href="https://molssi.org/">The Molecular Sciences Software Institute</a></p>
        <p>Funded by the National Science Foundation 
          <a href="https://nsf.gov/awardsearch/showAward?AWD_ID=1547580">OAC-1547580</a> and 
          <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2136142">CHE-2136142.</a></p>
        <p> The MolSSI Best Practices Workshop is licesened under a <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0 International License.</a> 
            You are free to adapt and share this material with attribution.
            We'd also appreciate you letting us know if you use the material by emailing <a href="mailto:education@molssi.org">education@molssi.org</a>.
          </p>
        
 
        
        <p class="sphinx-version">
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br>
        </p>
        

        <p class="theme-version">
        Built with a customized <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.1.
        </p>

    </div>
    <div class="col-2">
        <a href="https://nsf.gov/" target="_blank" title="Go to the NSF in a new tab">
            <img src="_static/nsf.png" class="footer_logo" alt="The NSF">
          </a>
    </div>
</div></div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>